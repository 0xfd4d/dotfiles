#!/bin/sh

# 2097152
wew -m 2097152 | while IFS=: read ev wid; do
    case $ev in
        # creation
        16) wattr o $wid || {
            chwb -s 2 $wid && wtf $wid && wshuf
        } ;;

        17) wattr o $wid || {
            wshuf
        } ;;

        # unmap
        18) wattr o $wid || {
            pfw >/dev/null 2>&1 || wtf $(lsw | tail -n1)
            wshuf
        } ;;

        # map
        19) wattr o $wid || {
            chwso -r $wid && wtf $wid
            wshuf
        } ;;

        # this actually work well, when using simple wtf, but i still dont want use it (requires wew -m 64)
        # 6) wtf $wid ;;

        # set borders on focus in (9) and focus out (10)
        9) chwb -s 2 -c 0xb9b9b9 $wid ;;
        10) chwb -s 2 -c 0x101010 $wid ;;

    esac
done
